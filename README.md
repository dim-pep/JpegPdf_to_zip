# Архиватор файлов

## Описание

Сервис собирает до N файлов (по умолчанию — 3, поддерживаются форматы PDF и JPEG/JPG) и предоставляет zip-архив для скачивания этих файлов.  
Всё взаимодействие происходит через HTTP-запросы (GET/POST).

## Настройка
### Количество файлов/задач
- По умолчанию сервис принимает только 3 файла в один архив и позволяет работать только с 3 задачами одновременно.
- Можно изменить значения по умолчанию, отредактировав переменные `maxFiles` и `maxTasks` в файле `config.go`.
### Порт
- По умолчанию сервис использует порт из переменной окружения `PORT`.
- Если переменная не задана, сервис запускается на порту 8080.
### Допустимые форматы файлов
- По умолчанию сервис использует переменную окружения `ALLOWED_EXTS` для определения допустимых расширений файлов (например: `.pdf,.jpeg,.jpg`).
- Если переменная не задана, разрешены форматы: .pdf, .jpeg, .jpg.

## Запросы
- POST /tasks  
Создаётся отдельную задача. Возвращает случайно сгенерированный ID этой задачи
- GET /tasks/{id}  
Возвращает состояние задачи на данный момент(ошибки, файлы). Если файлов в задаче уже максимум также вернёт ссылку на скачивания архива
- POST /tasks/{id}/files  
Принимает JSON в теле запроса с url файла, который нужно добавить в архив  
Пример JSON:
```
{
  "url": "https://www.learningcontainer.com/wp-content/uploads/2020/07/Large-Sample-Image-download-for-Testing.jpg"
}
```
## Установка и запуск
Для запуска выполните команду:
`go run .`  
В дефолтной настройке сервис будет доступен по адресу: http://localhost:8080
